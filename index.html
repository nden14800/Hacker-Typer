<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ハッカータイパー</title>
<style>
  /* スタイルシート */
  body {
    margin: 0;
    overflow: hidden; /* Prevent body scroll */
    background-color: #1e1e1e;
    color: #00ff00;
    font-family: monospace;
    display: flex;
    flex-direction: column;
    height: 100vh;
    cursor: default; /* Default cursor over body */
  }

  #code-display {
    flex-grow: 1; /* Take available space */
    overflow-y: auto;
    white-space: pre-wrap; /* Ensure text wraps and preserves formatting */
    word-wrap: break-word; /* Break long words */
    padding: 10px;
    box-sizing: border-box;
    font-size: 14px; /* Adjust as needed */
    line-height: 1.5;
    scrollbar-width: none;  /* Firefox */
    -ms-overflow-style: none;  /* IE and Edge */
  }

  /* Hide scrollbar for Chrome, Safari and Opera */
  #code-display::-webkit-scrollbar {
    display: none;
  }

  #bottom-buttons {
    width: 100%;
    height: 50px;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px; /* Space between buttons */
    background-color: #1e1e1e; /* Match body background */
    padding: 0 10px;
    box-sizing: border-box;
    flex-shrink: 0; /* Don't shrink below height */
  }

  #bottom-buttons button {
    background: none;
    border: none;
    color: #00ff00;
    font-family: monospace;
    font-size: 16px;
    cursor: pointer;
    padding: 5px 10px;
    transition: color 0.3s ease;
  }

  #bottom-buttons button:hover {
    color: #39ff14; /* Lighter green on hover */
  }

  /* Overlay styles */
  .overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8); /* Semi-transparent black */
    display: flex;
    justify-content: center;
    align-items: center;
    visibility: hidden;
    opacity: 0;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }

  #special-message-overlay { z-index: 1001; }
  #confirm-overlay { z-index: 1000; }
  #settings-overlay { z-index: 999; }


  #settings-overlay > div,
  #confirm-overlay > div {
      background-color: #1e1e1e;
      color: #00ff00;
      padding: 20px;
      border: 1px solid #00ff00;
      border-radius: 10px;
      text-align: left; /* Align text left inside panel */
      max-width: 90%; /* Limit width */
      max-height: 90%; /* Limit height */
      overflow-y: auto; /* Add scroll if content is too long */
      box-sizing: border-box;
      font-family: monospace;
      position: relative; /* Needed for absolute positioning of close button */
  }

  #settings-panel {
      width: 500px;
      display: none; /* Hide initially using display */
  }

  #settings-panel h2 {
      margin-top: 0;
      color: #39ff14;
      text-align: center;
      margin-bottom: 20px;
  }

  #settings-panel label {
      display: flex; /* Use flex for label and controls */
      justify-content: space-between; /* Space out text and controls */
      align-items: center;
      margin-bottom: 15px;
      font-size: 1em;
      flex-wrap: wrap; /* Allow wrapping on smaller screens */
  }

   /* Flex container for range inputs */
  .range-inputs {
      display: flex;
      align-items: center;
      gap: 10px; /* Space between inputs and separator */
      flex-grow: 1; /* Allow inputs to take space */
      justify-content: flex-end; /* Align inputs to the right */
  }

  .range-inputs input[type="number"] {
      width: 60px; /* Adjust width as needed */
      padding: 5px;
      background-color: #333;
      border: 1px solid #00ff00;
      color: #00ff00;
      font-family: monospace;
      font-size: 1em;
      text-align: center;
      -moz-appearance: textfield; /* Hide arrows in Firefox */
  }

   /* Hide arrows for Chrome, Safari, Edge */
   .range-inputs input[type="number"]::-webkit-outer-spin-button,
   .range-inputs input[type="number"]::-webkit-inner-spin-button {
       -webkit-appearance: none;
       margin: 0;
   }


   #settings-panel input[type="checkbox"] {
      margin-left: 10px; /* Space after label text */
      /* Basic toggle switch appearance */
       -webkit-appearance: none;
       appearance: none;
       width: 30px;
       height: 15px;
       border-radius: 15px;
       background-color: #555;
       outline: none;
       cursor: pointer;
       position: relative;
       transition: background-color 0.3s ease;
   }

   #settings-panel input[type="checkbox"]::before {
       content: '';
       position: absolute;
       top: 1px;
       left: 1px;
       width: 13px;
       height: 13px;
       border-radius: 50%;
       background-color: #fff;
       transition: transform 0.3s ease;
   }

   #settings-panel input[type="checkbox"]:checked {
       background-color: #00ff00;
   }

   #settings-panel input[type="checkbox"]:checked::before {
       transform: translateX(15px);
   }


  #settings-panel input[type="range"] {
      flex-grow: 1; /* Allow range to take available space */
      margin-left: 10px;
      -webkit-appearance: none; /* Remove default styles */
      appearance: none;
      height: 8px;
      background: #005500; /* Dark green track */
      outline: none;
      opacity: 0.9;
      transition: opacity .2s;
  }

  #settings-panel input[type="range"]:hover {
    opacity: 1;
  }

  /* Style the thumb */
  #settings-panel input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 15px;
    height: 15px;
    background: #00ff00; /* Green thumb */
    cursor: pointer;
    border-radius: 50%;
  }

  #settings-panel input[type="range"]::-moz-range-thumb {
    width: 15px;
    height: 15px;
    background: #00ff00;
    cursor: pointer;
    border-radius: 50%;
  }

  #settings-panel button {
      display: block; /* Make buttons block level */
      width: calc(100% - 20px); /* Full width minus padding */
      margin: 15px auto 5px auto; /* Center buttons */
      padding: 10px;
      font-family: monospace;
      font-size: 1em;
      cursor: pointer;
      border-radius: 5px;
      transition: background-color 0.3s ease, color 0.3s ease;
      border: 1px solid #00ff00; /* Default border */
      background-color: #333; /* Default background */
      color: #00ff00; /* Default text color */
  }

  #settings-panel button:hover {
      background-color: #444;
      color: #39ff14;
      border-color: #39ff14;
  }

  #settings-panel #reset-settings-button {
      background-color: #ff0000; /* Red background for reset */
      color: white;
      border: none; /* No border for reset */
  }
  #settings-panel #reset-settings-button:hover {
      background-color: #cc0000;
      color: white;
  }

  /* Style for the close 'X' button in settings panel */
  #close-settings-x {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 24px; /* Larger 'X' */
      color: #00ff00;
      cursor: pointer;
      padding: 5px; /* Make click area slightly larger */
      transition: color 0.2s ease;
  }

  #close-settings-x:hover {
      color: #39ff14; /* Lighter green on hover */
  }


  #confirm-popup {
      text-align: center;
      display: none; /* Hide initially using display */
  }

  #confirm-popup button {
      padding: 8px 15px;
      margin: 10px;
      font-family: monospace;
      font-size: 1em;
      cursor: pointer;
      border-radius: 5px;
      transition: background-color 0.3s ease, color 0.3s ease;
      border: none; /* No default border */
  }

  #confirm-yes {
      background-color: #ff0000; /* Red for Yes */
      color: white;
  }
  #confirm-yes:hover {
      background-color: #cc0000;
  }

  #confirm-no {
      background-color: #333; /* Dark grey for No */
      color: #00ff00;
      border: 1px solid #00ff00;
  }
  #confirm-no:hover {
      background-color: #444;
      color: #39ff14;
      border-color: #39ff14;
  }

   /* Style for the confirmation message text */
   #confirm-message {
       margin-bottom: 20px;
   }


  #special-message-overlay { /* Inherits .overlay */ }

  #special-message {
      font-size: 2em; /* Larger font */
      font-weight: bold;
      text-align: center;
      padding: 20px;
      display: none; /* Hide initially */
      /* Color is set via JS */
      background-color: rgba(0, 0, 0, 0.5); /* Slight background for readability */
      border-radius: 10px;
  }

</style>
</head>
<body>
  <div id="code-display"></div>
  <div id="bottom-buttons">
    <button id="settings-button">設定</button>
    <button id="clear-code-button">リセット</button> <!-- コード表示エリアのリセットボタン -->
    <button id="access-denied-button">ACCESS DENIED</button>
    <button id="access-granted-button">ACCESS GRANTED</button>
  </div>

  <div id="settings-overlay" class="overlay">
    <div id="settings-panel">
      <span id="close-settings-x">×</span> <!-- 右上に追加する閉じるボタン -->
      <h2>設定</h2>
      <label for="auto-type-toggle">
        自動入力:
        <input type="checkbox" id="auto-type-toggle">
      </label>
      <label for="auto-type-speed">
        自動入力速度 (<span id="auto-type-speed-value">1</span>文字/s):
        <input type="range" id="auto-type-speed" min="1" max="1000" value="1">
      </label>
      <label>
        手動入力文字数範囲:
        <div class="range-inputs">
            <input type="number" id="manual-chars-range-min" min="1" value="1">
            <span>~</span>
            <input type="number" id="manual-chars-range-max" min="1" value="1">
        </div>
      </label>
       <label>
        BackSpace削除文字数範囲:
         <div class="range-inputs">
            <input type="number" id="backspace-chars-range-min" min="1" value="1">
            <span>~</span>
            <input type="number" id="backspace-chars-range-max" min="1" value="1">
        </div>
      </label>
       <label>
        自動入力文字数範囲:
         <div class="range-inputs">
            <input type="number" id="auto-chars-range-min" min="1" value="1">
            <span>~</span>
            <input type="number" id="auto-chars-range-max" min="1" value="1">
        </div>
      </label>
      <button id="reset-settings-button">設定をリセット</button> <!-- 設定内のリセットボタン（背景あり） -->
      <!-- <button id="close-settings-button">閉じる</button> このボタンは非表示または削除 -->
    </div>
  </div>

  <div id="confirm-overlay" class="overlay">
    <div id="confirm-popup">
      <p id="confirm-message"></p> <!-- 確認メッセージを表示する場所 -->
      <button id="confirm-yes">はい</button>
      <button id="confirm-no">いいえ</button>
    </div>
  </div>

  <div id="special-message-overlay" class="overlay">
    <div id="special-message"></div>
  </div>

<script>
  // ハッカー風のコードデータ (ユーザー提供のコード)
  const hackerCode = `#!/bin/bash
#
# This is a simulated multi-target hacking script for entertainment purposes only.
# Do not attempt to use this code on any real system.
# Actual unauthorized access to computer systems is illegal.
#
# Targets:
# - Multiple Wikipedia Language Editions
# - Roblox
# - Google Services (Search, YouTube, Gmail)
#
# Tools: WIKIDOWN v1.0, ROBLOX DOWN v1.0, GOOGLE DOWN v1.0
#
# Execution Order: Wikipedia Group -> Roblox -> Google Group
# Difficulty Progression: Wikipedia Group (Low) -> Roblox (Medium) -> Google Group (Very High)

echo "=============================================================="
echo " Multi-Target Shutdown Sequence Initiated (Simulated) "
echo "=============================================================="
echo "Initiating sequence targeting:"
echo " - Multiple Wikipedia Language Editions"
echo " - Roblox"
echo " - Google Services (Search, YouTube, Gmail)"
echo "Starting sequence... (Simulated)"
sleep 3

# --- Start Wikipedia Group Hacking ---
echo ""
echo "--- STARTING WIKIPEDIA GROUP HACKING (WIKIDOWN v1.0) ---"
echo ""
sleep 1

echo "=============================================="
echo " WIKIDOWN v1.0 - Wikipedia Shutdown Utility "
echo "=============================================="
echo ""
echo "Targeting multiple Wikipedia language editions:"
echo " - https://www.wikipedia.org/"
echo " - https://ja.wikipedia.org/wiki/メインページ"
echo " - https://en.wikipedia.org/wiki/Main_Page"
echo " - https://ru.wikipedia.org/wiki/Заглавная_страница"
echo " - https://de.wikipedia.org/wiki/Wikipedia:Hauptseite"
echo " - https://es.wikipedia.org/wiki/Wikipedia:Portada"
echo " - https://fr.wikipedia.org/wiki/Wikipédia:Accueil_principal"
echo " - https://zh.wikipedia.org/wiki/Wikipedia:首页"
echo " - https://it.wikipedia.org/wiki/Pagina_principale"
echo " - https://pt.wikipedia.org/wiki/Wikipédia:Página_principal"
echo " - https://pl.wikipedia.org/wiki/Wikipedia:Strona_główna"
echo ""

# --- Phase 1: Reconnaissance (Wikipedia Group) ---
echo "[Phase 1] Initiating reconnaissance on Wikipedia infrastructure..."
sleep 1.5
echo "Resolving IPs and scanning common ports for 11 Wikipedia instances (simulated)..."
# --- Fake IP resolution and port scan for multiple targets ---
echo "Resolved wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved ja.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved en.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved ru.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved de.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved es.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved fr.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved zh.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved it.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved pt.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Resolved pl.wikipedia.org: 208.80.153.224, Ports 80/443 Open"
echo "Note: IPs often resolve to the same WMF server pool (simulated)."
echo "Scan complete across all instances."
sleep 2
echo "Identifying underlying server architecture and WMF cluster details (simulated)..."
echo "Server OS: Linux (Various flavors in cluster)"
echo "Web Server: Nginx/1.18.0, Varnish Cache (simulated)"
echo "Reconnaissance complete."
echo ""

# --- Phase 2: Preparing Payload (Wikipedia Group) ---
echo "[Phase 2] Preparing cluster-wide exploit payload..."
echo "Selecting optimal exploit for Nginx/Varnish cluster (simulated)..."
sleep 1.5
echo "Exploit: cluster_cache_flush.sh (simulated)"
echo "Payload size: 3.5MB (includes sub-payloads for cache/database nodes)"
echo "Generating distributed payload..."
# --- Fake payload generation progress ---
for i in {1..15}; do printf "▇"; sleep 0.08; done; echo " Done."
sleep 1.5
echo "Payload prepared for cluster distribution."
echo ""

# --- Phase 3: Executing Coordinated Attack (Wikipedia Group) ---
echo "[Phase 3] Launching WIKIDOWN v1.0 coordinated attack on Wikipedia cluster..."
echo "Initiating connections to multiple front-end servers (simulated)..."
sleep 1.5
echo "Injecting distributed payload across cluster nodes..."
# --- Fake injection progress ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rInjecting Payload: [%-50s] %d%%" $(printf "█%.0s" $(seq 1 $((progress/2)))) $progress
    progress=$((progress + 5))
    sleep 0.1
done
echo ""
sleep 1.5
echo "Overloading Varnish cache and database connections..."
# --- Fake progress bar for overload ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rOverloading Cluster: [%-50s] %d%%" $(printf "█%.0s" $(seq 1 $((progress/2)))) $progress
    progress=$((progress + 10))
    sleep 0.05
done
echo ""
sleep 2
echo "Cluster communication failures detected."
echo "Database read/write errors reported."
echo "Wikipedia sites globally appear to be inaccessible or displaying errors."
echo ""

# --- Phase 4: Verification and Cleanup (Wikipedia Group) ---
echo "[Phase 4] Verifying group shutdown and cleaning up..."
echo "Attempting to access several Wikipedia instances (simulated)..."
sleep 2.5
# --- Fake access attempt result ---
echo "curl: (7) Failed to connect to en.wikipedia.org port 443: Connection refused"
echo "curl: (7) Failed to connect to zh.wikipedia.org port 443: Connection refused"
echo "curl: (7) Failed to connect to es.wikipedia.org port 443: Connection refused"
echo "Access verification: Multiple instances reported as inaccessible."
sleep 1.5
echo "Removing temporary files and logs across compromised nodes (simulated)..."
# --- Fake cleanup commands ---
echo "sudo find /var/log/nginx/ /var/log/varnish/ -name '*.log' -type f -delete"
echo "sudo find /tmp/ -name 'wikidown_*' -delete"
echo "sudo history -c && history -w"
echo "Cleaning up network traces (simulated)..."
sleep 2
echo "Cleanup complete."
echo ""

echo "=============================================="
echo "  WIKIPEDIA GROUP SHUTDOWN SUCCESSFUL! "
echo "=============================================="
echo "Targets: Multiple Wikipedia Editions"
echo "Status: Instances reported as Offline/Inaccessible."
echo "Tool: WIKIDOWN v1.0"
echo "Time: $(date)"
echo "=============================================="

# --- Separator ---
echo ""
echo "--- Moving to next target: Roblox ---"
echo ""
sleep 4

# --- Start Roblox Hacking ---
echo ""
echo "--- STARTING ROBLOX HACKING (ROBLOX DOWN v1.0) ---"
echo ""
sleep 1

echo "==============================================="
echo " ROBLOX DOWN v1.0 - Roblox Shutdown Framework "
echo "==============================================="
echo "Warning: Target is a large distributed system."
echo "This operation may take longer."
echo ""

# --- Phase 1: Distributed Reconnaissance (Roblox) ---
echo "[Phase 1] Commencing distributed reconnaissance..."
echo "Target: https://www.roblox.com/"
sleep 1.5
echo "Resolving primary and secondary IP addresses..."
# --- Fake IP resolution ---
echo "Resolved Primary IP: 128.116.117.20 (simulated)"
echo "Resolved Secondary IP: 128.116.117.21 (simulated)"
echo "Resolved CDN Node IP: 104.18.31.89 (simulated)"
echo "Resolved Game Server Cluster IP Range: 185.60.x.x/22 (simulated)"
sleep 1.5
echo "Scanning critical service ports across nodes (simulated)..."
# --- Fake port scan with multiple targets ---
echo "Scanning 128.116.117.20: Port 80/443/8080 Open"
echo "Scanning 128.116.117.21: Port 80/443/9000 Open"
echo "Scanning 104.18.31.89: Port 80/443 Open (CDN)"
echo "Scanning 185.60.x.x range: Ports 53/143/1000-10000 (UDP) Open/Filtered"
echo "Scan complete."
sleep 2
echo "Analyzing load balancer configuration and game server protocols (simulated)..."
echo "Load Balancer: Nginx/1.20.1 (Reverse Proxy)"
echo "Backend Cluster Size: Estimated 500+ servers"
echo "Game Server Protocol: Custom UDP Protocol (Reverse Engineered - simulated)"
echo "Reconnaissance complete."
echo ""

# --- Phase 2: Exploit Chain Development (Roblox) ---
echo "[Phase 2] Developing exploit chain for backend and game server access..."
echo "Identifying vulnerabilities in Nginx reverse proxy and custom UDP protocol..."
sleep 2
echo "Vulnerability found: CVE-2021-xxxx (simulated - Nginx configuration bypass)"
echo "Vulnerability found: CVE-2022-yyyy (simulated - Backend service API exposure)"
echo "Vulnerability found: RBLX-UDP-001 (simulated - Custom UDP Flood vulnerability)"
sleep 1.5
echo "Compiling multi-stage exploit payload suite..."
echo "Payload 1 (Proxy Bypass): proxy_jump.py (simulated)"
echo "Payload 2 (Backend Access): service_api_inject.sh (simulated)"
echo "Payload 3 (Game Server Flood): udp_spammer.c (simulated)"
echo "Payload 4 (Persistent State Corruption): state_corrupt.pl (simulated)"
echo "Compiling payloads for diverse architectures (simulated)..."
# --- Fake compilation progress ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rCompiling Payloads: [%-40s] %d%%" $(printf "█%.0s" $(seq 1 $((progress/2))) ) $progress
    progress=$((progress + 5))
    sleep 0.1)
done
echo ""
sleep 1.5
echo "Payloads compiled and verified."
echo ""

# --- Phase 3: Executing Coordinated Attack (Roblox) ---
echo "[Phase 3] Launching ROBLOX DOWN v1.0 coordinated attack..."
echo "Targeting Load Balancer: 128.116.117.20..."
sleep 1.5
echo "Executing Payload 1 (Proxy Bypass)..."
# --- Fake injection progress 1 ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rBypassing Proxy: [%-40s] %d%%" $(printf "█%.0s" $(seq 1 $((progress/2))) ) $progress
    progress=$((progress + 10))
    sleep 0.05)
done
echo ""
sleep 1.5
echo "Proxy bypass successful. Gaining access to backend network."
sleep 1
echo "Distributing Payload 2 (Backend Access) and Payload 4 (State Corruption) to backend servers (simulated)..."
# --- Fake distribution progress ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rDistributing Backend Payloads: [%-40s] %d%%" $(printf "▇%.0s" $(seq 1 $((progress/2))) ) $progress
    progress=$((progress + 5))
    sleep 0.1)
done
echo ""
sleep 1.5
echo "Initiating Payload 3 (Game Server Flood) on game server clusters..."
echo "Simultaneously flooding UDP ports on 800+ game server instances..."
# --- Fake overload progress ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rFlooding Game Servers: [%-50s] %d%%" $(printf "█%.0s" $(seq 1 $((progress/2))) ) $progress
    progress=$((progress + 5))
    sleep 0.08)
done
echo ""
sleep 2.5
echo "Reports of service disruption received from game servers and website."
echo "Roblox game sessions terminated, website experiencing severe latency."
echo ""

# --- Phase 4: Verification and Concealment (Roblox) ---
echo "[Phase 4] Verifying impact and concealing tracks..."
echo "Attempting to access https://www.roblox.com/ (simulated)..."
sleep 3
# --- Fake access attempt result ---
echo "wget: unable to connect to www.roblox.com: Connection timed out"
echo "Access verification: Failed (confirming service disruption)."
sleep 1.5
echo "Erasing attack logs across multiple compromised servers (simulated)..."
# --- Fake cleanup commands ---
echo "sudo find /var/log/ -name '*.log' -exec shred -uvz {} \;"
echo "sudo pkill -9 -f 'python proxy_jump.py'"
echo "sudo pkill -9 -f 'service_api_inject.sh'"
echo "sudo pkill -9 -f 'udp_spammer'"
echo "sudo rm -rf /tmp/roblox_down_*"
echo "Clearing distributed cache entries and state data (simulated)..."
sleep 2.5
echo "Concealment complete."
echo ""

echo "==============================================="
echo "     ROBLOX SERVER SHUTDOWN SUCCESSFUL!     "
echo "==============================================="
echo "Target: https://www.roblox.com/"
echo "Status: Major service disruption reported."
echo "Tool: ROBLOX DOWN v1.0"
echo "Time: $(date)"
echo "==============================================="

# --- Separator ---
echo ""
echo "--- Moving to final target: Google Services ---"
echo ""
sleep 5

# --- Start Google Group Hacking ---
echo ""
echo "--- STARTING GOOGLE SERVICES HACKING (GOOGLE DOWN v1.0) ---"
echo ""
sleep 1

echo "================================================="
echo " GOOGLE DOWN v1.0 - Global Services Interruption "
echo "================================================="
echo "Warning: Targeting a global infrastructure."
echo "This operation requires significant simulated processing power and time."
echo ""
echo "Targeting core Google Services:"
echo " - Google Search (https://www.google.com/)"
echo " - YouTube (youtube.com)"
echo " - Gmail (mail.google.com)"
echo ""

# --- Phase 1: Global Infrastructure Mapping (Google Services) ---
echo "[Phase 1] Mapping global Google infrastructure..."
sleep 2.5
echo "Identifying Anycast IPs, primary data centers, and service-specific clusters..."
# --- Fake IP and data center info ---
echo "Anycast IP (Global): 172.217.x.x, 216.58.y.y, 142.250.z.z (simulated)"
echo "Primary Data Centers: Council Bluffs (IA), Goose Creek (SC), St. Ghislain (Belgium), Singapore, Dublin (Ireland), Quilicura (Chile) (simulated)"
echo "Identifying service clusters: Search Index, Video Serving, Mail Storage/Processing (simulated)"
sleep 2
echo "Analyzing global load balancing, routing protocols, and internal service mesh (simulated)..."
echo "Protocols: BGP, OSPF, Google's internal GFE/Maglev, Service Mesh (Istio-like - simulated)"
echo "Detected 10000+ edge nodes, proxies, and internal microservices."
echo "Infrastructure mapping complete."
echo ""

# --- Phase 2: Exploiting Edge-to-Core Pathways and Internal APIs (Google Services) ---
echo "[Phase 2] Exploiting edge-to-core pathways and internal APIs across services..."
echo "Scanning vulnerabilities in edge gateways, proxy layers, and internal service APIs (simulated - multiple targets)..."
# --- Fake vulnerability scanning on multiple IPs/Services ---
echo "Scanning 172.217.x.x (Edge): Edge Gateway v4.2 bypass (simulated)"
echo "Scanning YouTube Proxy Cluster: TLS inspection vulnerability (simulated)"
echo "Scanning Gmail API Endpoint: Authentication bypass (simulated)"
echo "Scanning Search Index API: Injection vulnerability (simulated)"
sleep 3
echo "Developing comprehensive multi-payload exploit suite..."
echo "Payload A (Edge Bypass): edge_proxy_inject_v2.sh (simulated)"
echo "Payload B (Internal API - Search): search_api_exploit.py (simulated)"
echo "Payload C (Internal API - YouTube): youtube_api_inject.go (simulated)"
echo "Payload D (Internal API - Gmail): gmail_api_auth_bypass.rb (simulated)"
echo "Payload E (Core Overload): core_cluster_flood_v3.c (simulated)"
echo "Payload F (Data Persistence Issues): distributed_filesystem_corrupt.pl (simulated)"
sleep 2
echo "Compiling and cross-compiling complex payloads for diverse global architectures (simulated)..."
# --- Fake compilation progress ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rCompiling Complex Payloads: [%-40s] %d%%" $(printf "█%.0s" $(seq 1 $((progress/2))) ) $progress
    progress=$((progress + 5))
    sleep 0.18)
done
echo ""
sleep 2.5
echo "Payload suite compiled."
echo "Establishing secure, multi-channel access to compromised edge nodes and internal entry points (simulated)..."
sleep 3
echo "Channels established. Ready for core service injection."
echo ""

# --- Phase 3: Coordinated Core Service Injection and Disruption (Google Services) ---
echo "[Phase 3] Launching GOOGLE DOWN v1.0 coordinated core service injection..."
echo "Injecting Payload A (Edge Bypass) simultaneously on 150+ global edge nodes..."
# --- Fake injection progress A ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rEdge Injection (A): [%-40s] %d%%" $(printf "█%.0s" $(seq 1 $((progress/2))) ) $progress
    progress=$((progress + 5))
    sleep 0.12)
done
echo ""
sleep 2
echo "Edge bypass verified. Gaining widespread access to internal network pathways."
sleep 1.5
echo "Executing Service-Specific Payloads (B, C, D) targeting Search, YouTube, and Gmail APIs..."
# --- Fake execution progress B, C, D ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rAPI Exploitation (B,C,D): [%-40s] %d%%" $(printf "▇%.0s" $(seq 1 $((progress/2))) ) $progress
    progress=$((progress + 4))
    sleep 0.15)
done
echo ""
sleep 2.5
echo "API access granted. Preparing for core cluster disruption."
sleep 1.5
echo "Distributing Payload E (Core Overload) and Payload F (Data Persistence Issues) to core service clusters (simulated)..."
# --- Fake distribution progress E+F ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rCore Distribution (E+F): [%-50s] %d%%" $(printf "█%.0s" $(seq 1 $((progress/2))) ) $progress
    progress=$((progress + 3))
    sleep 0.2)
done
echo ""
sleep 3
echo "Initiating massive resource overload and data corruption on primary Search, YouTube, and Gmail clusters..."
echo "Targeting indexing, video serving, and mail storage systems (simulated)..."
# --- Fake overload progress ---
progress=0
while [ $progress -le 100 ]; do
    printf "\rCore Overload/Corruption: [%-50s] %d%%" $(printf "█%.0s" $(seq 1 $((progress/2))) ) $progress
    progress=$((progress + 2))
    sleep 0.22)
done
echo ""
sleep 4
echo "Global network telemetry reporting critical failures across core services."
echo "Search queries failing, YouTube videos not loading, Gmail access unavailable."
echo "Major Google services appear to be impacted."
echo ""

# --- Phase 4: Global Verification and Advanced Concealment (Google Services) ---
echo "[Phase 4] Verifying global impact and executing advanced concealment..."
echo "Attempting to access Google Search, YouTube, and Gmail (simulated - global check)..."
sleep 4
# --- Fake access attempt results with errors ---
echo "curl: (56) Recv failure: Connection reset by peer (google.com)"
echo "wget: unable to connect to youtube.com: Connection timed out"
echo "telnet: mail.google.com: Name or service not known (simulated DNS issue)"
echo "Access verification: Global service disruption confirmed."
sleep 2.5
echo "Activating advanced trace obfuscation and self-destruct modules (simulated)..."
# --- Fake concealment steps ---
echo "sudo find /opt/google/logs/ -type f -delete"
echo "sudo dd if=/dev/zero of=/var/log/syslog bs=1M count=500; sync"
echo "sudo history -c && history -w"
echo "sudo iptables -F && sudo iptables -X" # Fake iptables flush/delete
echo "sudo echo 'kernel.randomize_va_space = 2' >> /etc/sysctl.conf && sudo sysctl -p" # Fake system hardening attempt
echo "sudo shred -uvz /root/.bash_history"
echo "sudo networkmanager --config-file /etc/network/null.conf" # Fake network config nulling
echo "sudo rm -rf /var/spool/cron/*" # Fake cron job removal
echo "sudo rm -rf /etc/ssh/*_key*" # Fake SSH key removal
echo "sudo killall -9 sshd rsync python perl go" # Fake process killing
echo "Executing self-destruct sequence on compromised nodes (simulated)..."
sleep 4
echo "Advanced concealment and self-destruct procedures complete."
echo "System traces extremely difficult to recover (simulated)."
echo ""

echo "================================================="
echo "    GOOGLE SERVICES INTERRUPTED GLOBALLY!    "
echo "================================================="
echo "Targets: Google Search, YouTube, Gmail"
echo "Status: Major global service disruption."
echo "Tool: GOOGLE DOWN v1.0"
echo "Time: $(date)"
echo "================================================="

# --- Final Message ---
echo ""
echo "=============================================================="
echo " Multi-Target Shutdown Sequence Completed (Simulated) "
echo "=============================================================="
echo "All specified targets (Wikipedia Group, Roblox, Google Services) are now reported as impacted (simulated)."
echo "End of simulated hacking script."
echo "=============================================================="`;

  let currentIndex = 0; // 現在表示されている文字数を示します（ソースコードのどこまで進んだか）

  // 定数：画面に表示するコードの最大文字数
  // この値を超えると古いコードが先頭から削除されます。
  // 画面サイズやフォントサイズに合わせて調整してください。
  const MAX_DISPLAY_CHARS = 15000; // 例: 15000文字

  // 設定値 (デフォルト)
  let autoTypeEnabled = false;
  let autoTypeSpeed = 1; // chars/s (1文字/秒)
  let manualCharsRange = { min: 1, max: 1 }; // 手動入力時の文字数範囲
  let backspaceCharsRange = { min: 1, max: 1 }; // BackSpace時の削除文字数範囲
  let autoCharsRange = { min: 1, max: 1 }; // 自動入力時の文字数範囲

  // 自動入力タイマー
  let autoTypeInterval = null;

  // DOM要素の取得
  const codeDisplay = document.getElementById('code-display');
  const settingsOverlay = document.getElementById('settings-overlay');
  const settingsPanel = document.getElementById('settings-panel');
  const autoTypeToggle = document.getElementById('auto-type-toggle');

  const autoTypeSpeedRange = document.getElementById('auto-type-speed');
  const autoTypeSpeedValue = document.getElementById('auto-type-speed-value');

  const manualCharsRangeMinInput = document.getElementById('manual-chars-range-min');
  const manualCharsRangeMaxInput = document.getElementById('manual-chars-range-max');

  const backspaceCharsRangeMinInput = document.getElementById('backspace-chars-range-min');
  const backspaceCharsRangeMaxInput = document.getElementById('backspace-chars-range-max');

  const autoCharsRangeMinInput = document.getElementById('auto-chars-range-min');
  const autoCharsRangeMaxInput = document.getElementById('auto-chars-range-max');

  const resetSettingsButton = document.getElementById('reset-settings-button'); // 設定内のリセットボタン
  const closeSettingsX = document.getElementById('close-settings-x'); // 新しい閉じる「×」ボタン

  const confirmOverlay = document.getElementById('confirm-overlay');
  const confirmPopup = document.getElementById('confirm-popup');
  const confirmMessage = document.getElementById('confirm-message'); // 確認メッセージ表示要素
  const confirmYesButton = document.getElementById('confirm-yes');
  const confirmNoButton = document.getElementById('confirm-no');

  const specialMessageOverlay = document.getElementById('special-message-overlay');
  const specialMessageDiv = document.getElementById('special-message');
  const settingsButton = document.getElementById('settings-button');
  const accessDeniedButton = document.getElementById('access-denied-button');
  const accessGrantedButton = document.getElementById('access-granted-button');

  const clearCodeButton = document.getElementById('clear-code-button'); // 新しいコードリセットボタン


  // 特殊表示のための状態管理
  let capsLockCount = 0;
  let optionAltCount = 0;
  let lastKeyTime = 0;
  const KEY_PRESS_THRESHOLD = 500; // 連続押下と判定する時間間隔 (ms)

  // ロード直後の不要な入力を防ぐフラグ
  let allowInput = false;

  // 現在確認ポップアップが表示されている操作の種類を保持
  let currentConfirmAction = null; // null, 'resetSettings', 'clearCode'

  // 指定範囲内のランダムな整数を取得するヘルパー関数
  function getRandomInt(min, max) {
      // 念のため、min <= max となるように調整
      const actualMin = Math.min(min, max);
      const actualMax = Math.max(min, max);
      // 最小値が1未満にならないように制限 (HTML min="1" 属性でも制御しているが念のため)
      const validatedMin = Math.max(1, actualMin);
      const validatedMax = Math.max(1, actualMax); // maxも最低1

      // validatedMin <= validatedMax が保証される
      return Math.floor(Math.random() * (validatedMax - validatedMin + 1)) + validatedMin;
  }

  // コードに文字を追加する関数 (手動入力/自動入力用)
  function addChars(count) {
      let charsToAdd = '';
      for (let i = 0; i < count; i++) {
           // ソースコードから文字を取得し、インデックスをループさせます (modulo演算子を使用)
           charsToAdd += hackerCode[currentIndex % hackerCode.length];
           currentIndex++; // 入力された文字の総数を増やします（ソースコードの進行度）
      }

      // 現在の表示テキストに新しい文字を追加
      let currentText = codeDisplay.textContent + charsToAdd;

      // 最大表示文字数を超えたら、先頭から超過分を削除
      if (currentText.length > MAX_DISPLAY_CHARS) {
          const charsToRemove = currentText.length - MAX_DISPLAY_CHARS;
          currentText = currentText.substring(charsToRemove);
      }

      // 表示を更新
      codeDisplay.textContent = currentText;

      // 自動スクロール
      codeDisplay.scrollTop = codeDisplay.scrollHeight;
  }

  // コードから文字を削除する関数 (BackSpace用)
  function removeChars(count) {
      // 現在表示されている文字数以上の文字を削除しないように制限します
      let numToRemove = Math.min(count, codeDisplay.textContent.length);
      if (numToRemove > 0) {
          let currentText = codeDisplay.textContent;
          let newTextLength = currentText.length - numToRemove;
          codeDisplay.textContent = currentText.substring(0, newTextLength);
          // BackspaceではcurrentIndexは変更しない（ソースコードの進行度は巻き戻らない）
      }
       // スクロール位置を調整します
       codeDisplay.scrollTop = codeDisplay.scrollHeight;
  }

  // コード表示エリアを全てクリアする関数
  function clearCodeDisplay() {
      codeDisplay.textContent = "";
      currentIndex = 0; // インデックスもリセット（最初から入力し直す場合）
      codeDisplay.scrollTop = 0; // スクロール位置もリセット
  }


  // 手動入力 (キーボード/タップ) を処理する関数
  function handleUserInput(event) {
       // オーバーレイが表示されている場合、または入力がまだ許可されていない場合は無視します
      if (!allowInput || settingsOverlay.style.visibility === 'visible' || confirmOverlay.style.visibility === 'visible' || specialMessageOverlay.style.visibility === 'visible') {
          return;
      }

      // イベントがボトムボタン領域から発生した場合は無視します (ボタンタップでコードが入力されるのを防ぐ)
      if (event.target.closest('#bottom-buttons')) {
          return;
      }

      // キーボードイベントの場合のみ処理
      if (event.type === 'keydown') {
          const key = event.key;
          const code = event.code;
          const currentTime = Date.now();

           // 特殊キー処理 (Caps Lock, Alt/Option)
           if (key === 'CapsLock') {
               if (currentTime - lastKeyTime < KEY_PRESS_THRESHOLD) { capsLockCount++; } else { capsLockCount = 1; }
               if (capsLockCount >= 3) { showSpecialMessage('ACCESS DENIED', 'red'); capsLockCount = 0; }
               optionAltCount = 0; // 他のカウンターをリセット
               lastKeyTime = currentTime;
               return; // CapsLock は入力として扱わない
           } else if (key === 'Alt') { // Option (Mac) および Alt (Windows) 両方に対応
               if (currentTime - lastKeyTime < KEY_PRESS_THRESHOLD) { optionAltCount++; } else { optionAltCount = 1; }
               if (optionAltCount >= 3) { showSpecialMessage('ACCESS GRANTED', 'green'); optionAltCount = 0; }
               capsLockCount = 0; // 他のカウンターをリセット
               lastKeyTime = currentTime;
               return; // Alt は入力として扱わない
           } else {
              // 一定時間閾値を超えた場合、カウンターをリセット
               if (currentTime - lastKeyTime >= KEY_PRESS_THRESHOLD) {
                   capsLockCount = 0;
                   optionAltCount = 0;
               }
               lastKeyTime = currentTime;
          }

          // Backspace 処理
          if (key === 'Backspace') {
              event.preventDefault(); // ブラウザの戻る操作を防止
              const count = getRandomInt(backspaceCharsRange.min, backspaceCharsRange.max);
              removeChars(count);
          } else if (event.key.length === 1 || code === 'Space' || code === 'Enter' || code === 'Tab') {
              // 通常の文字入力キー (ほとんどの表示可能な文字、スペース、エンター、タブ)
              event.preventDefault(); // ドキュメントへのデフォルトの文字入力を防止
              const count = getRandomInt(manualCharsRange.min, manualCharsRange.max);
              addChars(count);
          }
          // 他のキー (Shift, Ctrl, 方向キー, ファンクションキーなど) はデフォルト動作を妨げずに無視
      } else if (event.type === 'touchstart') {
           // タップ入力処理
           // event.preventDefault(); // タッチのデフォルト動作 (スクロール、ズームなど) を防止する場合は有効にするが、コード表示領域でのスクロールを妨げる可能性あり
           const count = getRandomInt(manualCharsRange.min, manualCharsRange.max);
           addChars(count);
      }
  }

  // 自動入力を行う関数
  function autoType() {
      // オーバーレイが表示されている場合は自動入力を一時停止
      if (settingsOverlay.style.visibility === 'visible' || confirmOverlay.style.visibility === 'visible' || specialMessageOverlay.style.visibility === 'visible') {
          // 何もしない（自動入力タイマーは動いたままスキップ）
      } else {
          const count = getRandomInt(autoCharsRange.min, autoCharsRange.max);
          addChars(count);
      }
  }


  // 自動入力を開始する関数
  function startAutoType() {
      stopAutoType(); // 既存のタイマーをクリア
       // 速度は文字/秒。間隔はミリ秒。
       // 間隔 = 1000 / 速度
      const interval = 1000 / autoTypeSpeed;
      if (interval > 0 && isFinite(interval)) { // 間隔が正の値かつ有限であることを確認
         autoTypeInterval = setInterval(autoType, interval);
      } else if (autoTypeSpeed >= 1) { // 速度が非常に速い場合 (間隔が0に近い) の処理
          // シンプルに、最大速度1000に対して間隔1msで上限を設定する。
           autoTypeInterval = setInterval(autoType, 1);
      }
  }

  // 自動入力を停止する関数
  function stopAutoType() {
      if (autoTypeInterval) {
          clearInterval(autoTypeInterval);
          autoTypeInterval = null;
      }
  }

  // 自動入力のON/OFFを切り替える関数
  function toggleAutoType() {
      if (autoTypeEnabled) {
          startAutoType();
      } else {
          stopAutoType();
      }
  }

  // 設定項目の表示値を更新し、設定値を適用する関数
  function updateSettingValues() {
      // スピードレンジの表示更新
      autoTypeSpeedValue.textContent = autoTypeSpeedRange.value;

       // 入力欄の値から内部の設定オブジェクトを更新します
       autoTypeSpeed = parseInt(autoTypeSpeedRange.value, 10);

       // 入力値を取得し、数値に変換。無効な値 (NaN) の場合はデフォルト値 (1) を使用し、最低値を1に制限
       manualCharsRange.min = Math.max(1, parseInt(manualCharsRangeMinInput.value, 10) || 1);
       manualCharsRange.max = Math.max(1, parseInt(manualCharsRangeMaxInput.value, 10) || 1);

       backspaceCharsRange.min = Math.max(1, parseInt(backspaceCharsRangeMinInput.value, 10) || 1);
       backspaceCharsRange.max = Math.max(1, parseInt(backspaceCharsRangeMaxInput.value, 10) || 1);

       autoCharsRange.min = Math.max(1, parseInt(autoCharsRangeMinInput.value, 10) || 1);
       autoCharsRange.max = Math.max(1, parseInt(autoCharsRangeMaxInput.value, 10) || 1);

       // 最小値が最大値より大きい場合は、最小値を最大値に合わせる (UI上は連動しないが、内部的な矛盾を防ぐ)
       if (manualCharsRange.min > manualCharsRange.max) manualCharsRange.min = manualCharsRange.max;
       if (backspaceCharsRange.min > backspaceCharsRange.max) backspaceCharsRange.min = backspaceCharsRange.max;
       if (autoCharsRange.min > autoCharsRange.max) autoCharsRange.min = autoCharsRange.max;

       // UIの表示も修正後の最小値・最大値に合わせる（ユーザーが手入力した無効値を修正するため）
       manualCharsRangeMinInput.value = manualCharsRange.min;
       manualCharsRangeMaxInput.value = manualCharsRange.max;
       backspaceCharsRangeMinInput.value = backspaceCharsRange.min;
       backspaceCharsRangeMaxInput.value = backspaceCharsRange.max;
       autoCharsRangeMinInput.value = autoCharsRange.min;
       autoCharsRangeMaxInput.value = autoCharsRange.max;


      // 自動入力が有効な場合は、新しい速度で再開します
      if (autoTypeEnabled) {
          startAutoType();
      }
  }

  // 現在の設定をUI要素に反映する関数
  function applySettingsToUI() {
      autoTypeToggle.checked = autoTypeEnabled;
      autoTypeSpeedRange.value = autoTypeSpeed;

      manualCharsRangeMinInput.value = manualCharsRange.min;
      manualCharsRangeMaxInput.value = manualCharsRange.max;

      backspaceCharsRangeMinInput.value = backspaceCharsRange.min;
      backspaceCharsRangeMaxInput.value = backspaceCharsRange.max;

      autoCharsRangeMinInput.value = autoCharsRange.min;
      autoCharsRangeMaxInput.value = autoCharsRange.max;

      // レンジの横のテキストラベルを更新 (速度のみ)
      autoTypeSpeedValue.textContent = autoTypeSpeed;
  }

  // 設定オーバーレイを表示する関数
  function showSettings() {
      // 現在の設定をUIに反映してから表示
      applySettingsToUI();

      settingsOverlay.style.visibility = 'visible';
      settingsOverlay.style.opacity = '1';
      settingsPanel.style.display = 'block'; // display: block を使用して操作可能にする
  }

  // 設定オーバーレイを非表示にする関数
  function hideSettings() {
      // 設定変更が完了したとみなし、設定値を適用
      updateSettingValues();

      settingsOverlay.style.opacity = '0';
      // トランジション後に visibility と display を非表示にするためにタイムアウトを使用
      setTimeout(() => {
          settingsOverlay.style.visibility = 'hidden';
          settingsPanel.style.display = 'none';
      }, 300); // CSSのトランジション duration に合わせる
  }

  // 確認オーバーレイを表示する関数
  // actionType: 'resetSettings' または 'clearCode'
  function showConfirm(actionType) {
      currentConfirmAction = actionType;
      if (actionType === 'resetSettings') {
          confirmMessage.textContent = "本当に設定をリセットしますか？";
      } else if (actionType === 'clearCode') {
          confirmMessage.textContent = "本当にコードを全て削除しますか？";
      } else {
          confirmMessage.textContent = "続行しますか？"; // 未定義のアクションの場合
      }

      confirmOverlay.style.visibility = 'visible';
      confirmOverlay.style.opacity = '1';
      confirmPopup.style.display = 'block'; // display: block を使用
  }

  // 確認オーバーレイを非表示にする関数
  function hideConfirm() {
      confirmOverlay.style.opacity = '0';
      setTimeout(() => {
          confirmOverlay.style.visibility = 'hidden';
           confirmPopup.style.display = 'none';
           currentConfirmAction = null; // アクションをリセット
      }, 300); // CSSのトランジション duration に合わせる
  }

  // 設定をデフォルトにリセットする関数
  function resetSettings() {
      autoTypeEnabled = false;
      autoTypeSpeed = 1; // デフォルト速度 1文字/秒
      manualCharsRange = { min: 1, max: 1 }; // デフォルト 1文字
      backspaceCharsRange = { min: 1, max: 1 }; // デフォルト 1文字
      autoCharsRange = { min: 1, max: 1 }; // デフォルト 1文字

      applySettingsToUI(); // UI要素を更新
      updateSettingValues(); // 内部設定値も確実に更新
      stopAutoType(); // 自動入力が停止していることを保証
  }

  // 特殊メッセージ (ACCESS DENIED/GRANTED) を表示する関数
  function showSpecialMessage(message, color) {
      specialMessageDiv.textContent = message;
      specialMessageDiv.style.color = color; // 色を適用 ('red' または 'green')
      specialMessageOverlay.style.visibility = 'visible';
      specialMessageOverlay.style.opacity = '1';
       specialMessageDiv.style.display = 'block'; // display: block を使用

      // 数秒後にメッセージを非表示にする
      setTimeout(() => {
          specialMessageOverlay.style.opacity = '0';
          setTimeout(() => {
              specialMessageOverlay.style.visibility = 'hidden';
              specialMessageDiv.style.display = 'none';
          }, 300); // CSSのトランジション duration に合わせる
      }, 2000); // 2秒間表示
  }


  // --- イベントリスナー ---

  // 手動入力 (キーボードとタップ)
  // キーボードイベントはドキュメント全体でリッスン
  document.addEventListener('keydown', handleUserInput);
  // タッチイベント (タップ) は body でリッスン
  document.body.addEventListener('touchstart', handleUserInput);


  // 設定ボタン (開く)
  settingsButton.addEventListener('click', showSettings);

  // 設定を閉じるボタン (新しい「×」ボタン)
  closeSettingsX.addEventListener('click', hideSettings);

  // 設定コントロールのイベントリスナー
  autoTypeToggle.addEventListener('change', (event) => {
      autoTypeEnabled = event.target.checked;
      toggleAutoType();
      // スイッチの変更でも設定値を適用（速度タイマーの再開など）
      updateSettingValues();
  });

  // 自動入力速度レンジスライダー
  autoTypeSpeedRange.addEventListener('input', updateSettingValues); // 値が変更されたら表示と設定を更新

  // 数値入力欄のイベントリスナー (inputイベントでリアルタイムに設定値を更新)
  manualCharsRangeMinInput.addEventListener('input', updateSettingValues);
  manualCharsRangeMaxInput.addEventListener('input', updateSettingValues);
  backspaceCharsRangeMinInput.addEventListener('input', updateSettingValues);
  backspaceCharsRangeMaxInput.addEventListener('input', updateSettingValues);
  autoCharsRangeMinInput.addEventListener('input', updateSettingValues);
  autoCharsRangeMaxInput.addEventListener('input', updateSettingValues);

   // blurイベントでも設定値を更新 (入力確定時) - inputと両方つけることでリアルタイム性と確定時の補正を両立
   manualCharsRangeMinInput.addEventListener('blur', updateSettingValues);
   manualCharsRangeMaxInput.addEventListener('blur', updateSettingValues);
   backspaceCharsRangeMinInput.addEventListener('blur', updateSettingValues);
   backspaceCharsRangeMaxInput.addEventListener('blur', updateSettingValues);
   autoCharsRangeMinInput.addEventListener('blur', updateSettingValues);
   autoCharsRangeMaxInput.addEventListener('blur', updateSettingValues);


  // 設定内のリセットボタンのクリック -> 確認ダイアログ表示 (設定リセット用)
  resetSettingsButton.addEventListener('click', () => showConfirm('resetSettings'));

  // コード表示エリアのリセットボタンのクリック -> 確認ダイアログ表示 (コード削除用)
  clearCodeButton.addEventListener('click', () => showConfirm('clearCode'));


  // 確認ダイアログのボタン
  confirmYesButton.addEventListener('click', () => {
      if (currentConfirmAction === 'resetSettings') {
          resetSettings(); // 設定をリセット
      } else if (currentConfirmAction === 'clearCode') {
          clearCodeDisplay(); // コード表示エリアをクリア
      }
      hideConfirm(); // 確認ダイアログを非表示
  });

  confirmNoButton.addEventListener('click', hideConfirm); // 確認ダイアログのみ非表示

  // 特殊メッセージボタン
  accessDeniedButton.addEventListener('click', () => showSpecialMessage('ACCESS DENIED', 'red'));
  accessGrantedButton.addEventListener('click', () => showSpecialMessage('ACCESS GRANTED', 'green'));


  // --- 初期化 ---

  // ページロード時にデフォルト設定をUIに適用し、内部設定値も更新
  applySettingsToUI();
  updateSettingValues(); // 初期ロード時にも内部設定値を正確に取得・設定

  // 短い遅延の後にのみ入力を許可 (ロード直後の誤入力を防ぐ)
  setTimeout(() => { allowInput = true; }, 100); // 100ms後に許可

  // 初期表示 (空にする)
  codeDisplay.textContent = ""; // 空から開始
  currentIndex = 0;

</script>
</body>
</html>
